# –ë–æ—Ç-–î–≤–æ–π–Ω–∏–∫

Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–∞, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ "—Å–ª–µ–ø–∫–∏ —Å—Ç–∏–ª—è" –∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É –∏–º–∏—Ç–∏—Ä—É–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ OpenAI `gpt-5-nano`.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Ñ—Ä–∞–∑ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Ç–∞.
- –ò–º–∏—Ç–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ `/imitate @username [—Ç–µ–∫—Å—Ç-–∑–∞—Ç—Ä–∞–≤–∫–∞]`.
- –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã –≤ —Å—Ç–∏–ª–µ —É–ø–æ–º—è–Ω—É—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ –∞–≤—Ç–æ–∏–º–∏—Ç–∞—Ü–∏–∏).
- –ö–æ–º–∞–Ω–¥–∞ `/imitate_profiles` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Å—Ç–∏–ª—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `/persona_mode @username <card|summary|combined|auto>`.
- –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: –ø—Ä–æ–∂–∞—Ä–∫–∏, –≥–æ—Ä–æ—Å–∫–æ–ø—ã, —Ç–µ—Å—Ç—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, —Ä—ç–ø-–±–∞—Ç—Ç–ª—ã, –∏—Å—Ç–æ—Ä–∏–∏ —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —á–∞—Ç–∞.
- –ù–æ–≤–æ—Å—Ç–∏ –∏ —Ä–µ–∑—é–º–µ —á–∞—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

### –°–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö
- `/forgetme` ‚Äî —É–¥–∞–ª—è–µ—Ç –≤–∞—à–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —Å–≤—è–∑–∏ –∏ –∫–∞—Ä—Ç–æ—á–∫—É –ø–µ—Ä—Å–æ–Ω—ã. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è: –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å –≤–∞—à–∏ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∑–∞–Ω–æ–≤–æ —Ñ–æ—Ä–º–∏—Ä—É—è ¬´—Å–ª–µ–ø–æ–∫ —Å—Ç–∏–ª—è¬ª.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```env
   TELEGRAM_BOT_TOKEN=...  # —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   OPENAI_API_KEY=...      # –∫–ª—é—á OpenAI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   ```

   –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –∑–∞–¥–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):

   | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
   | --- | --- | --- |
   | `BOT_DOUBLE_DB_PATH` | –ø—É—Ç—å –∫ SQLite-–±–∞–∑–µ | `bot_double.db` |
   | `AUTO_IMITATE_PROBABILITY` | —à–∞–Ω—Å –∞–≤—Ç–æ–∏–º–∏—Ç–∞—Ü–∏–∏ –ø—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏ | `0.2` |
   | `MIN_MESSAGES_FOR_PROFILE` | –º–∏–Ω–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è | `20` |
   | `MAX_MESSAGES_PER_USER` | —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `200` |
   | `PROMPT_SAMPLE_SIZE` | —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ —Å—Ç–∏–ª—è –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞ | `30` |
   | `DIALOG_CONTEXT_MESSAGES` | —Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥–º–µ—à–∏–≤–∞—Ç—å –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç | `6` |
   | `STYLE_RECENT_MESSAGES` | —Å–∫–æ–ª—å–∫–æ —Å–≤–µ–∂–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç–¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –ø–µ—Ä–≤—ã–º | `5` |
   | `PEER_PROFILE_COUNT` | —Å–∫–æ–ª—å–∫–æ ¬´—Å–æ—Å–µ–¥–µ–π¬ª —Å–æ–±–∏—Ä–∞—Ç—å –¥–ª—è –±—ç–∫–≥—Ä–∞—É–Ω–¥–∞ | `3` |
   | `PEER_PROFILE_SAMPLES` | —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –±—Ä–∞—Ç—å —É –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å–µ–¥–∞ | `2` |
   | `OPENAI_MODEL` | –º–æ–¥–µ–ª—å –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–π | `gpt-5-nano` |
   | `OPENAI_REASONING_EFFORT` | —É—Å–∏–ª–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π (`none/minimal/low/medium/high`) | –ø—É—Å—Ç–æ (–≤—ã–∫–ª) |
   | `OPENAI_STORY_REASONING_EFFORT` | —É—Å–∏–ª–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π –¥–ª—è –∏—Å—Ç–æ—Ä–∏–π | –ø—É—Å—Ç–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç OPENAI_REASONING_EFFORT) |
   | `OPENAI_TEXT_VERBOSITY` | –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ—Å—Ç—å (`low/medium/high`) | –ø—É—Å—Ç–æ (–¥–µ—Ñ–æ–ª—Ç –º–æ–¥–µ–ª–∏) |
   | `MIN_TOKENS_TO_STORE` | –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —Å–ª–æ–≤ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è | `3` |
   | `SHORT_MESSAGE_BUFFER_SECONDS` | —Ç–∞–π–º–∞—É—Ç —Å—Ç–∞—Ä–æ–π –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç –¥–ª—è –±—ë—Ä—Å—Ç–æ–≤) | `10` |
   | `BURST_INACTIVITY_SECONDS` | –ø–∞—É–∑–∞ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ–¥ —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –±—ë—Ä—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π | `10` |
   | `BURST_GAP_SECONDS` | –º–∞–∫—Å. –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Ä–µ–ø–ª–∏–∫–∞–º–∏ –∞–≤—Ç–æ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –±—ë—Ä—Å—Ç–∞ | `12` |
   | `BURST_MAX_DURATION_SECONDS` | –º–∞–∫—Å. –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—ë—Ä—Å—Ç–∞ –ø–µ—Ä–µ–¥ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–º —Å–±—Ä–æ—Å–æ–º | `90` |
   | `BURST_MAX_PARTS` | –º–∞–∫—Å. —á–∏—Å–ª–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –æ–¥–Ω–æ–º –±—ë—Ä—Å—Ç–µ | `6` |
   | `BURST_MAX_CHARS` | –º–∞–∫—Å. —Å—É–º–º–∞—Ä–Ω–∞—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –±—ë—Ä—Å—Ç–∞ | `2000` |
   | `BURST_CARRYOVER_MAX_AGE_SECONDS` | —Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ —Ö—Ä–∞–Ω–∏—Ç—å ¬´—Ö–≤–æ—Å—Ç¬ª –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ä–µ–ø–ª–∏–∫ –¥–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ | `max(BURST_MAX_DURATION_SECONDS, BURST_INACTIVITY_SECONDS * 3)` |
   | `MAX_STORE_CHARS` | –ª–∏–º–∏—Ç —Å–∏–º–≤–æ–ª–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ä–µ–ø–ª–∏–∫ –≤ –ë–î (0 ‚Äî –±–µ–∑ –ª–∏–º–∏—Ç–∞) | `1200` |
   | `TURN_WINDOW_SECONDS` | –æ–∫–Ω–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ—Ç–≤–µ—Ç—ã —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ —Å—á–∏—Ç–∞—é—Ç—Å—è ¬´–ø–µ—Ä–µ–±–∏–≤–∫–æ–π¬ª | `10` |
   | `ENABLE_BURSTS` | –≤–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ –±—ë—Ä—Å—Ç–æ–≤ (–ø—Ä–∏ `false` –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å—Ç–∞—Ä—ã–π —Ä–µ–∂–∏–º) | `true` |
   | `ENABLE_VOICE_TRANSCRIPTION` | –≤–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π | `false` |
   | `VOICE_TRANSCRIPTION_MODEL` | –º–æ–¥–µ–ª—å OpenAI –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ | `gpt-4o-mini-transcribe` |
   | `VOICE_TRANSCRIPTION_LANGUAGE` | –∫–æ–¥ —è–∑—ã–∫–∞ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (`ru`, `en` –∏ —Ç.–ø.) | `ru` |
   | `VOICE_TRANSCRIPTION_MAX_DURATION` | –º–∞–∫—Å. –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ (—Å–µ–∫.) –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è | `180` |
   | `ENABLE_FREEFORM_INTENTS` | –≤–∫–ª—é—á–∏—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ —Å–ª—ç—à–µ–π | `true` |
   | `RELATIONSHIP_ANALYSIS_MODEL` | –º–æ–¥–µ–ª—å –¥–ª—è —Å–æ—Ü–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–µ—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî `OPENAI_MODEL`) | –ø—É—Å—Ç–æ |
   | `RELATIONSHIP_ANALYSIS_MIN_PENDING` | —Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –Ω–∞–∫–æ–ø–∏—Ç—å –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–∏–∑–æ–º –ø–∞—Ä—ã | `5` |
   | `RELATIONSHIP_ANALYSIS_MIN_HOURS` | –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∞–Ω–∞–ª–∏–∑–∞–º–∏ –æ–¥–Ω–æ–π –ø–∞—Ä—ã (—á–∞—Å—ã) | `24` |
   | `PERSONA_ANALYSIS_MODEL` | –º–æ–¥–µ–ª—å –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–µ—Ä—Å–æ–Ω—ã (–µ—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî `OPENAI_MODEL`) | –ø—É—Å—Ç–æ |
   | `PERSONA_ANALYSIS_MIN_MESSAGES` | —Å–∫–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö —Ä–µ–ø–ª–∏–∫ –Ω–∞–∫–æ–ø–∏—Ç—å –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ | `50` |
   | `PERSONA_ANALYSIS_MAX_MESSAGES` | —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ (–≤–µ—Ä—Ö–Ω–∏–π –ø—Ä–µ–¥–µ–ª) | `100` |
   | `PERSONA_ANALYSIS_MIN_HOURS` | –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ (—á–∞—Å—ã) | `24` |
   | `SCHEDULED_NEWS_ENABLED` | –≤–∫–ª—é—á–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∞–≤—Ç–æ–Ω–æ–≤–æ—Å—Ç–∏ | `false` |
   | `SCHEDULED_NEWS_HOUR` | —á–∞—Å –∑–∞–ø—É—Å–∫–∞ (0-23) | `9` |
   | `SCHEDULED_NEWS_MINUTE` | –º–∏–Ω—É—Ç–∞ –∑–∞–ø—É—Å–∫–∞ (0-59) | `0` |
   | `SCHEDULED_NEWS_MIN_MESSAGES` | –º–∏–Ω–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ 24—á –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ | `100` |
   | `SCHEDULED_NEWS_TIMEZONE` | —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è | `Europe/Moscow` |

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python main.py
   ```

## –ö–æ–º–∞–Ω–¥—ã

### üìù –ò–º–∏—Ç–∞—Ü–∏—è —Å—Ç–∏–ª—è
- `/imitate @username [—Ç–µ–∫—Å—Ç]` ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç –≤ —Å—Ç–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `/imitate_profiles` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å, —á—å–∏ –ø—Ä–æ—Ñ–∏–ª–∏ –≥–æ—Ç–æ–≤—ã.
- `/imitation_help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –∏–º–∏—Ç–∞—Ü–∏–∏.
- `/auto_imitate_on` / `/auto_imitate_off` ‚Äî –≤–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø–∞—Ä–æ–¥–∏—é –≤ —á–∞—Ç–µ.

### üé≠ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
- `/roast @user` ‚Äî –∂—ë—Å—Ç–∫–∞—è –ø—Ä–æ–∂–∞—Ä–∫–∞ –ø–æ —Å—Ç–∏–ª—é –æ–±—â–µ–Ω–∏—è.
- `/horoscope @user` ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è.
- `/tinder @user` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Tinder-–ø—Ä–æ—Ñ–∏–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è.
- `/compatibility @user1 @user2` ‚Äî —Ç–µ—Å—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –¥–≤—É—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.
- `/battle @user1 @user2` ‚Äî —Ä—ç–ø-–±–∞—Ç—Ç–ª –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
- `/dialogue @user1 @user2 [—Ç–µ–º–∞]` ‚Äî –º–∏–Ω–∏-–¥–∏–∞–ª–æ–≥ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –≤ –∏—Ö —Å—Ç–∏–ª–µ.
- `/story @user1 @user2... [—Ç–µ–º–∞]` ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π —Ä–∞—Å—Å–∫–∞–∑ (2-5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤).
- `/long_story @user1 @user2... [—Ç–µ–º–∞]` ‚Äî —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π —Ä–∞—Å—Å–∫–∞–∑.
- `/news` ‚Äî –Ω–æ–≤–æ—Å—Ç–∏ —á–∞—Ç–∞ –≤ —Å—Ç–∏–ª–µ –∂—ë–ª—Ç–æ–π –ø—Ä–µ—Å—Å—ã.
- `/summary` ‚Äî –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π –≤ —á–∞—Ç–µ.

### üë§ –ü—Ä–æ—Ñ–∏–ª–∏ –∏ –¥–∞–Ω–Ω—ã–µ
- `/profile [@user] [@other]` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –ø–µ—Ä—Å–æ–Ω—ã (–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–º);
  `/me` ‚Äî —Ç–æ –∂–µ, —á—Ç–æ `/profile` –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
- `/alias @username –ø—Ä–æ–∑–≤–∏—â–µ1, –ø—Ä–æ–∑–≤–∏—â–µ2` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∑–≤–∏—â–∞ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–∞.
- `/alias_reset @username` ‚Äî —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–æ–∑–≤–∏—â–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤ —Ç–µ–∫—É—â–µ–º —á–∞—Ç–µ.
- `/forgetme` ‚Äî —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ë–æ—Ç —Ç–∞–∫–∂–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ä—ã —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤, —á—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å –∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏ —Ç–æ–Ω –æ–±—â–µ–Ω–∏—è. –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ –∏–º–∏—Ç–∞—Ü–∏—è—Ö –∏ –¥–∏–∞–ª–æ–≥–∞—Ö.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ —Å –±—ë—Ä—Å—Ç–∞–º–∏, –±–æ—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏–µ —Ä–µ–ø–ª–∏–∫–∏ –∞–≤—Ç–æ—Ä–∞ –≤ ¬´—Å–µ—Å—Å–∏–∏ –Ω–∞–±–æ—Ä–∞¬ª. –ï—Å–ª–∏ –ø–∞—É–∑—ã –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∏ –Ω–µ –ø–µ—Ä–µ–±–∏–≤–∞—é—Ç, –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≤—Ç–æ—Ä –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –±—ë—Ä—Å—Ç–æ–º –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –µ–¥–∏–Ω—ã–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–º ‚Äî —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–æ–≤–∏—Ç—å —Ü–µ–ª–∏–∫–æ–º –º—ã—Å–ª—å, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∞ –±—ã–ª–∞ –Ω–∞–±—Ä–∞–Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–æ–π —É—á–∞—Å—Ç–Ω–∏–∫ –æ—Ç–≤–µ—á–∞–µ—Ç (–∏–ª–∏ –ø–∞—É–∑–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ø–æ—Ä–æ–≥), –±—ë—Ä—Å—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π. –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≥—É–ª–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `BURST_*` –∏ `TURN_WINDOW_SECONDS`.

### –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

–ü—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º —Ñ–ª–∞–≥–µ `ENABLE_VOICE_TRANSCRIPTION` –±–æ—Ç —Å–∫–∞—á–∏–≤–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ OpenAI (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–¥–µ–ª—å `gpt-4o-mini-transcribe`) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –±—ë—Ä—Å—Ç–∞—Ö, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î –∏ –∏–¥—ë—Ç –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É. –ì–æ–ª–æ—Å–æ–≤—ã–µ –¥–ª–∏–Ω–Ω–µ–µ `VOICE_TRANSCRIPTION_MAX_DURATION` —Å–µ–∫—É–Ω–¥ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∞–ø–¥–µ–π—Ç–æ–≤. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å–≤–æ–π —è–∑—ã–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `VOICE_TRANSCRIPTION_LANGUAGE`.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

–ü—Ä–∏ `SCHEDULED_NEWS_ENABLED=true` –±–æ—Ç –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ 9:00 –ø–æ –ú–æ—Å–∫–≤–µ) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–∞—Ç–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞. –ï—Å–ª–∏ –≤ —á–∞—Ç–µ –±—ã–ª–æ –±–æ–ª—å—à–µ `SCHEDULED_NEWS_MIN_MESSAGES` —Å–æ–æ–±—â–µ–Ω–∏–π, –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞–π–¥–∂–µ—Å—Ç –≤ —Å—Ç–∏–ª–µ –∂—ë–ª—Ç–æ–π –ø—Ä–µ—Å—Å—ã ‚Äî –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∑—ã–≤–∞—Ç—å `/news` –≤—Ä—É—á–Ω—É—é.

### –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–° `ENABLE_FREEFORM_INTENTS=true` –±–æ—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –±–µ–∑ —Å–ª—ç—à–µ–π:
- ¬´–¥–≤–æ–π–Ω–∏–∫, –ø–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π: ‚Ä¶¬ª –∏–ª–∏ —Ä–µ–ø–ª–∞–π —Å —Ñ—Ä–∞–∑–æ–π ¬´–ø–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞ ‚Ä¶¬ª ‚Äî –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞.
- ¬´–ø–µ—Ä–µ—Å–∫–∞–∂–∏ –∫—Ä–∞—Ç–∫–æ ‚Ä¶¬ª, ¬´—Ä–µ–∑—é–º–∏—Ä—É–π¬ª ‚Äî —Å–∂–∞—Ç–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ.
- ¬´–ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä—É–π¬ª, ¬´–∏—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫–∏¬ª, ¬´—Å–¥–µ–ª–∞–π –≤–µ–∂–ª–∏–≤—ã–º–∏/–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏¬ª, ¬´—É–±–µ—Ä–∏ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å¬ª, ¬´–¥–æ–±–∞–≤—å —Å–º–∞–π–ª—ã¬ª ‚Äî –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Å—Ç–∏–ª–µ.
- ¬´—Å–¥–µ–ª–∞–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á ‚Ä¶¬ª ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –≤ —á–µ–∫-–ª–∏—Å—Ç.
- ¬´—á—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç—å ‚Ä¶¬ª, ¬´—Å—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π –æ—Ç–≤–µ—Ç ‚Ä¶¬ª ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.
- ¬´–∏–º–∏—Ç–∏—Ä—É–π @username ‚Ä¶¬ª, ¬´–æ—Ç–≤–µ—Ç—å –∫–∞–∫ @username¬ª ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–ø–ª–∏–∫–∏ –≤ —Å—Ç–∏–ª–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞. –ú–æ–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π –Ω–∞ —á—É–∂–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –¥–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ—Å–ª–µ –¥–≤–æ–µ—Ç–æ—á–∏—è.
- –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–∑–≤–∏—â–∞ —á–µ—Ä–µ–∑ `/alias`, —á—Ç–æ–±—ã –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —É—á–∞—Å—Ç–Ω–∏–∫—É –ø–æ –∏–º–µ–Ω–∏ (¬´–∏–º–∏—Ç–∏—Ä—É–π –ü–µ—Ç—é¬ª, ¬´–æ—Ç–≤–µ—Ç—å –∫–∞–∫ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤¬ª).

–ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–∞–∫ –∂–µ, –µ—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–∑—ã (¬´–¥–≤–æ–π–Ω–∏–∫, —Ä–µ–∑—é–º–∏—Ä—É–π‚Ä¶¬ª, ¬´–ø–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞‚Ä¶¬ª –∏ —Ç. –¥.).

–ö–∞–∂–¥—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç ¬´–∫–∞—Ä—Ç–æ—á–∫—É –ø–µ—Ä—Å–æ–Ω—ã¬ª: —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ –º–æ–¥–µ–ª—å –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (50‚Äì100 —à—Ç—É–∫) –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–∂–∞—Ç—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç ‚Äî –∏–Ω—Ç–µ—Ä–µ—Å—ã, —á—É–≤—Å—Ç–≤–æ —é–º–æ—Ä–∞, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –æ–±—â–∏–π —Ç–æ–Ω –∏ —Ä–µ—á–µ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏. –≠—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–º–µ—à–∏–≤–∞—é—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç—ã –∏–º–∏—Ç–∞—Ü–∏–∏ –∏ –¥–∏–∞–ª–æ–≥–æ–≤, –¥–µ–ª–∞—è –æ—Ç–≤–µ—Ç—ã –∑–∞–º–µ—Ç–Ω–æ —Ç–æ—á–Ω–µ–µ.

## –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `bot_double.db`). –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ—Ç —Ö—Ä–∞–Ω–∏—Ç —Å–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö `MAX_MESSAGES_PER_USER` —Å–æ–æ–±—â–µ–Ω–∏–π. –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è.
